---
# Production Environment Variables

# Environment Settings
environment_name: production
log_level: info

# Database Configuration
database_url: "mysql+aiomysql://{{ mysql_user }}:{{ mysql_password }}@{{ database_container_name_prefix }}_prod:{{ mysql_port }}/{{ mysql_database }}"
database_container_name: "{{ database_container_name_prefix }}_prod"

# API Configuration
static_url: "{{ api_url }}"
frontend_url: "https://{{ domain_name }}"

# Production Features
auto_reload: false
debug_toolbar: false
sql_echo: false
cache_ttl: 3600

# File Upload Configuration
max_file_size_mb: 25
allowed_file_types:
  - jpg
  - jpeg
  - png
  - gif
  - webp
  - pdf

# Performance Settings (optimized for production)
worker_processes: 4
max_connections: 1000
request_timeout: 30
keepalive_timeout: 75

# Production-specific directories
additional_directories:
  - monitoring
  - backups

# Backup Configuration
backup_schedule: "0 2 * * *"  # Daily at 2 AM
backup_retention_days: 30
backup_compression: true
backup_encryption: false

# Logging Configuration
log_rotation: true
log_max_size: 500M
log_backup_count: 10
log_format: json

# Production Database Settings
db_pool_size: 20
db_max_overflow: 30
db_pool_timeout: 30
db_pool_recycle: 1800

# CORS Settings (restrictive for production)
cors_allow_credentials: true
cors_allow_methods:
  - GET
  - POST
  - PUT
  - DELETE
  - OPTIONS
cors_allow_headers:
  - Authorization
  - Content-Type
  - X-Requested-With

# Security Settings (strict for production)
secure_cookies: true
session_timeout: 3600
password_min_length: 8
rate_limiting: true
rate_limit_requests: 100
rate_limit_window: 60

# Monitoring Configuration
metrics_enabled: true
health_check_enabled: true
performance_monitoring: true

# SSL/TLS Configuration
ssl_protocols:
  - TLSv1.2
  - TLSv1.3
ssl_ciphers: "ECDHE+AESGCM:ECDHE+CHACHA20:DHE+AESGCM:DHE+CHACHA20:!aNULL:!MD5:!DSS"

# Cache Configuration (Redis)
cache_backend: redis
cache_host: "{{ ansible_host }}"
cache_port: "{{ redis_port }}"
cache_db: 0
cache_expire: 3600

# Monitoring Services
prometheus_retention: "30d"
prometheus_scrape_interval: "15s"
grafana_admin_user: admin
grafana_session_lifetime: "24h"

# Email Configuration (for notifications)
smtp_enabled: false
smtp_host: ""
smtp_port: 587
smtp_use_tls: true
smtp_username: ""
smtp_from_email: "noreply@{{ domain_name }}"

# Content Security Policy
csp_enabled: true
csp_directives:
  default-src: "'self'"
  script-src: "'self' 'unsafe-inline'"
  style-src: "'self' 'unsafe-inline'"
  img-src: "'self' data: https:"
  font-src: "'self'"
  connect-src: "'self'"

# Production Optimization
gzip_enabled: true
gzip_types:
  - text/plain
  - text/css
  - application/json
  - application/javascript
  - text/xml
  - application/xml
  - application/xml+rss
  - text/javascript

# Asset Configuration
static_files_cache_max_age: 31536000  # 1 year
api_cache_max_age: 0
